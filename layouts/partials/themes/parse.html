{{- $scr := .Scratch -}}

{{/* Attempt to load color theme specified by user. */}}
{{- $theme_index := site.Params.colorTheme | default "default" -}}
{{ if (index site.Data.themes $theme_index) }}
    {{ $theme := index site.Data.themes $theme_index }}
    {{- $scr.Set "lightmode_text_color" ($theme.lightmode_text_color) -}}
    {{- $scr.Set "lightmode_text_color_light" ($theme.lightmode_text_color_light) -}}
    {{- $scr.Set "lightmode_bg_color" ($theme.lightmode_bg_color) -}}
    {{- $scr.Set "lightmode_theme_color" ($theme.lightmode_theme_color) -}}

    {{- $scr.Set "darkmode_text_color" ($theme.darkmode_text_color) -}}
    {{- $scr.Set "darkmode_text_color_light" ($theme.darkmode_text_color_light) -}}
    {{- $scr.Set "darkmode_bg_color" ($theme.darkmode_bg_color) -}}
    {{- $scr.Set "darkmode_theme_color" ($theme.darkmode_theme_color) -}}

{{ else }}
  {{ errorf "The `%s` color theme was not found! Check that the `color_theme` option in `config/_default/params.toml` matches the name of an installed color theme." $theme_index }}
{{ end }}
